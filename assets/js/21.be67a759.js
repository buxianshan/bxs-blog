(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{435:function(s,t,n){"use strict";n.r(t);var a=n(36),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{align:"center"}},[s._v("Python批量修改文件名")]),s._v(" "),n("div",{attrs:{align:"center"}},[s._v("post date: 2020-03-03")]),s._v(" "),n("p",[s._v("最近下载了电视剧《琅琊榜》，总共54集。但是某平台给所有视频的文件名都加了他们的前缀。如果放到电视里播放很难选择集数，因为文件名前缀太长了，把关键信息都挤到后面了。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200303204432145.png#shadow",alt:""}})]),s._v(" "),n("p",[s._v("不拉长名称完全不知道到底是哪一集。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200303204545794.png#shadow",alt:""}})]),s._v(" "),n("p",[s._v("所以想把文件名都改得简洁一点，查了点资料发现用python的os.rename()方法很方便。\n最终想要的格式为：琅琊榜_ (集数).mp4\n代码如下：")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" os\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" re\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件夹路径，注意把路径分隔符都改成双反斜杠")]),s._v("\npath "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:\\\\迅雷下载\\\\琅琊榜\\\\"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回该文件夹下所有文件名的列表")]),s._v("\nfileList "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("listdir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" filename "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" fileList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    oldname "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" filename\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用正则表达式匹配文件名，此处格式为“琅琊榜_(2个数字)”,再加上后缀名.mp4")]),s._v("\n    newname "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" re"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("search"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"琅琊榜_\\d\\d"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" filename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("group"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('".mp4"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用os模块中的rename方法重命名")]),s._v("\n    os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" oldname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" newname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oldname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'======>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("newname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"已完成！"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("运行结果：")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200303210539739.png#shadow",alt:""}})]),s._v(" "),n("p",[s._v("修改完看着就舒服多了。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200303210628759.png#shadow",alt:""}})]),s._v(" "),n("p",[s._v("如果只是想去掉文件名里的一部分，比如去掉[电影天堂www.dy2018.com]，直接用replace()方法把它替换成空就行了：")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("newname "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" oldname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("replace"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[电影天堂www.dy2018.com]"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);