(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{469:function(t,s,a){"use strict";a.r(s);var n=a(36),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{align:"center"}},[t._v("Python å¤šçº¿ç¨‹")]),t._v(" "),a("p",[t._v("å‚è€ƒï¼š")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3/glossary.html#term-global-interpreter-lock",target:"_blank",rel:"noopener noreferrer"}},[t._v("Global Interpreter Lock"),a("OutboundLink")],1),t._v("ï¼šå…¨å±€è§£é‡Šå™¨é”")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3.9/library/threading.html#module-threading",target:"_blank",rel:"noopener noreferrer"}},[t._v("threading"),a("OutboundLink")],1),t._v("ï¼šPython å†…ç½®å¤šçº¿ç¨‹æ¨¡å—")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.python.org/zh-cn/3.9/library/queue.html#module-queue",target:"_blank",rel:"noopener noreferrer"}},[t._v("queue"),a("OutboundLink")],1),t._v("ï¼šA multi-producer, multi-consumer queue")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://learnku.com/docs/pymotw/queue-thread-safe-fifo-queue/3370",target:"_blank",rel:"noopener noreferrer"}},[t._v("queue â€” çº¿ç¨‹å®‰å…¨çš„ FIFO é˜Ÿåˆ—"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://learnku.com/docs/pymotw/threading-manage-concurrent-operations-within-a-process/3421",target:"_blank",rel:"noopener noreferrer"}},[t._v("threading â€” ç®¡ç†å•ä¸ªè¿›ç¨‹é‡Œçš„å¹¶è¡Œæ“ä½œ"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844903615824396295",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ—è¡¨ä¸é˜Ÿåˆ—â€”è°ˆè°ˆçº¿ç¨‹å®‰å…¨"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.51cto.com/u_6315133/3122185",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸ºä»€ä¹ˆPythonå¤šçº¿ç¨‹æ— æ³•åˆ©ç”¨å¤šæ ¸"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844904058533183495",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python çº¿ç¨‹æ± åŸç†åŠå®ç°"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://c.biancheng.net/view/2627.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python çº¿ç¨‹æ± åŠå…¶åŸç†å’Œä½¿ç”¨"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1597890",target:"_blank",rel:"noopener noreferrer"}},[t._v("ThreadPoolExecutor åˆ¤æ–­æ‰€æœ‰ä»»åŠ¡å·²ç»“æŸ"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"threading-æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#threading-æ¨¡å—"}},[t._v("#")]),t._v(" threading æ¨¡å—")]),t._v(" "),a("p",[t._v("ä½¿ç”¨çº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åˆ›å»º"),a("code",[t._v("threading.Thread")]),t._v("çš„å¯¹è±¡æ‰§è¡ŒæŸä¸ªå‡½æ•°")]),t._v(" "),a("li",[t._v("åˆ›å»º"),a("code",[t._v("threading.Thread")]),t._v("çš„å­ç±»ï¼Œé‡å†™runæ–¹æ³•")])]),t._v(" "),a("p",[t._v("ä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n    å¤šçº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡\n    :param task_id:\n    :param task_name:\n    :return:\n    """')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"task(id: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("task_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", name: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("task_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(') done!"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä»¥argså…ƒç»„çš„å½¢å¼ä¼ å‚")]),t._v("\n        t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"t')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä»¥kwargså­—å…¸çš„å½¢å¼ä¼ å‚")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# t = threading.Thread(target=task, kwargs={"task_id": i, "task_name": f"t{i}"})')]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("è¿™é‡Œé¡ºä¾¿è®°å½•ä¸€ä¸‹æˆ‘è‡ªå·±ä¹‹å‰ä¸€ç›´ä¸ç†è§£çš„åœ°æ–¹ï¼Œåˆ›å»ºçº¿ç¨‹çš„æ—¶å€™å¦‚ä½•ç»™è¦æ‰§è¡Œçš„å‡½æ•°ä¼ å‚å‘¢ï¼ˆå¤šä¸ªå‚æ•°ï¼‰ï¼Ÿ")]),t._v(" "),a("p",[t._v("å…¶å®çœ‹ä¸€ä¸‹Threadæºç å°±å¾ˆæ¸…æ¥šäº†ï¼Œå¦‚å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://buxianshan.oss-cn-beijing.aliyuncs.com/Typora_images/image-20220516201800404.png",alt:"image-20220516201800404"}})]),t._v(" "),a("p",[a("code",[t._v("Thread")]),t._v("çš„initæ–¹æ³•æä¾›äº†ä¸¤ç§å½¢å¼çš„å‚æ•°ï¼Œargsé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºå…ƒç»„ï¼Œkwargsé»˜è®¤å€¼æ˜¯Noneä½†æ˜¯å¸Œæœ›ä¼ çš„æ˜¯å­—å…¸ã€‚")]),t._v(" "),a("p",[t._v("å†çœ‹ä¸€ä¸‹"),a("code",[t._v("run()")]),t._v("æ–¹æ³•æ˜¯å¦‚ä½•æŠŠå‚æ•°ä¼ ç»™æˆ‘ä»¬è¦æ‰§è¡Œçš„targetæ–¹æ³•çš„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://buxianshan.oss-cn-beijing.aliyuncs.com/Typora_images/image-20220516202123632.png",alt:"image-20220516202123632"}})]),t._v(" "),a("p",[t._v("è¿™å°±å¾ˆæ¸…æ¥šäº†ï¼Œä¸€ä¸ªæ˜Ÿå·è§£åŒ…å…ƒç»„ï¼ˆæˆ–åˆ—è¡¨ç­‰ï¼‰ï¼Œä¸¤ä¸ªæ˜Ÿå·è§£åŒ…å­—å…¸ï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯ä»¥å…ƒç»„çš„å½¢å¼å†™åˆ°argsé‡Œçš„å‚æ•°ï¼Œè¿˜æ˜¯ä»¥å­—å…¸å½¢å¼å†™åˆ°kwargsé‡Œçš„å‚æ•°ï¼Œéƒ½ä¼šè¢«è§£åŒ…åä¼ åˆ°targetæ–¹æ³•ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å¤šçº¿ç¨‹åŒæ­¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šçº¿ç¨‹åŒæ­¥"}},[t._v("#")]),t._v(" å¤šçº¿ç¨‹åŒæ­¥")]),t._v(" "),a("p",[t._v("ä¸å¯é¿å…çš„è¦è€ƒè™‘çº¿ç¨‹åŒæ­¥ï¼Œè¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼šä½¿ç”¨countè¿›è¡Œå…¨å±€ä»»åŠ¡è®¡æ•°ï¼Œä¿®æ”¹countå€¼æ—¶éœ€è¦ä¿è¯çº¿ç¨‹åŒæ­¥ï¼Œé¿å…å†²çªã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" random\n\n\ntotal "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\ncount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nlock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n    æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼Œç»™countè®¡æ•°åŠ 1\n    :return:\n    """')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" total\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("global")]),t._v(" count\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# éšæœº sleep 0åˆ°1ç§’ï¼Œæ¨¡æ‹Ÿä¸åŒä»»åŠ¡è€—æ—¶ä¸åŒ")]),t._v("\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("random"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™é‡Œçº¿ç¨‹åŒæ­¥é”")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"process: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    thread_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" thread_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br")])]),a("p",[t._v("ä½ å¯ä»¥å°è¯•æŠŠåŒæ­¥é”çš„ä»£ç æ³¨é‡Šæ‰ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚")]),t._v(" "),a("p",[t._v("åŠ é”çš„åœ°æ–¹ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢è¿™ç§å†™æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è·å–é”")]),t._v("\nlock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("acquire"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# do something...")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"process: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é‡Šæ”¾é”")]),t._v("\n    lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("release"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h2",{attrs:{id:"å®ˆæŠ¤çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ˆæŠ¤çº¿ç¨‹"}},[t._v("#")]),t._v(" å®ˆæŠ¤çº¿ç¨‹")]),t._v(" "),a("p",[t._v("å½“ç¨‹åºä¸­æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹æ—¶ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸå¹¶ä¸ä¼šå½±å“å­çº¿ç¨‹ç»§ç»­æ‰§è¡Œã€‚æ¢å¥è¯è¯´ï¼Œåªæœ‰ç¨‹åºä¸­æ‰€æœ‰çº¿ç¨‹å…¨éƒ¨æ‰§è¡Œå®Œæ¯•åï¼Œç¨‹åºæ‰ç®—çœŸæ­£ç»“æŸã€‚")]),t._v(" "),a("p",[t._v("Python è¿˜æ”¯æŒåˆ›å»ºå¦ä¸€ç§çº¿ç¨‹ï¼Œç§°ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼ˆæˆ–åå°çº¿ç¨‹ï¼‰ã€‚æ­¤ç±»çº¿ç¨‹çš„ç‰¹ç‚¹æ˜¯ï¼Œå½“ç¨‹åºä¸­ä¸»çº¿ç¨‹åŠæ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œç»“æŸæ—¶ï¼Œæœªæ‰§è¡Œå®Œæ¯•çš„å®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šéšä¹‹æ¶ˆäº¡ï¼ˆè¿›è¡Œæ­»äº¡çŠ¶æ€ï¼‰ï¼Œç¨‹åºå°†ç»“æŸè¿è¡Œã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæŠŠ"),a("code",[t._v("t.daemon = True")]),t._v("æ³¨é‡Šæ‰ï¼Œåˆ™ç¨‹åºä¸€ç›´è¿è¡Œä¸é€€å‡ºã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"task(id: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("task_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", name: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("task_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(') done!"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"t')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ä¸ºå®ˆæŠ¤çº¿ç¨‹")]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("daemon "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h2",{attrs:{id:"ä½¿ç”¨queueå®ç°çº¿ç¨‹æ± "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨queueå®ç°çº¿ç¨‹æ± "}},[t._v("#")]),t._v(" ä½¿ç”¨queueå®ç°çº¿ç¨‹æ± ")]),t._v(" "),a("p",[t._v("Pythonå®˜æ–¹æ–‡æ¡£çš„æè¿°ï¼šqueue æ¨¡å—å®ç°äº†å¤šç”Ÿäº§è€…ã€å¤šæ¶ˆè´¹è€…é˜Ÿåˆ—ã€‚è¿™ç‰¹åˆ«é€‚ç”¨äºæ¶ˆæ¯å¿…é¡»å®‰å…¨åœ°åœ¨å¤šçº¿ç¨‹é—´äº¤æ¢çš„çº¿ç¨‹ç¼–ç¨‹ã€‚")]),t._v(" "),a("p",[t._v("é»˜è®¤çš„"),a("code",[t._v("queue.Queue")]),t._v("æ˜¯FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿ")]),t._v(" "),a("p",[t._v("ä¼ ç»Ÿå¤šçº¿ç¨‹æ–¹æ¡ˆä¼šä½¿ç”¨â€œå³æ—¶åˆ›å»ºï¼Œ å³æ—¶é”€æ¯â€çš„ç­–ç•¥ã€‚è™½ç„¶ä¸åˆ›å»ºè¿›ç¨‹ç›¸æ¯”ï¼Œåˆ›å»ºçº¿ç¨‹çš„å¼€é”€å·²ç»å¾ˆå°ï¼Œä½†æ˜¯å¦‚æœæäº¤ç»™çº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œè€Œä¸”æ‰§è¡Œå¾ˆé¢‘ç¹ï¼Œé‚£ä¹ˆç³»ç»Ÿå°†å¤„äºä¸åœçš„åˆ›å»ºçº¿ç¨‹ï¼Œé”€æ¯çº¿ç¨‹çš„çŠ¶æ€ã€‚æ¯æ¬¡åˆ›å»ºéƒ½éœ€è¦ç»è¿‡å¯åŠ¨ã€é”€æ¯å’Œè¿è¡Œ3ä¸ªè¿‡ç¨‹ã€‚è¿™å¿…ç„¶ä¼šå¢åŠ ç³»ç»Ÿç›¸åº”çš„æ—¶é—´ï¼Œé™ä½äº†æ•ˆç‡ã€‚")]),t._v(" "),a("p",[t._v("ä½¿ç”¨çº¿ç¨‹æ± ï¼šçº¿ç¨‹é¢„å…ˆè¢«åˆ›å»ºå¹¶æ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œå¤„ç†å®Œå½“å‰ä»»åŠ¡ä¹‹åå¹¶ä¸é”€æ¯è€Œæ˜¯è¢«å®‰æ’å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œå› æ­¤èƒ½å¤Ÿé¿å…å¤šæ¬¡åˆ›å»ºçº¿ç¨‹ï¼Œä»è€ŒèŠ‚çœçº¿ç¨‹åˆ›å»ºå’Œé”€æ¯çš„å¼€é”€ï¼Œèƒ½å¸¦æ¥æ›´å¥½çš„æ€§èƒ½å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚")]),t._v(" "),a("p",[t._v("ä½¿ç”¨queueå®ç°çº¿ç¨‹æ± çš„ä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" queue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Queue\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºé˜Ÿåˆ—, ç”¨äºå­˜å‚¨ä»»åŠ¡")]),t._v("\nqueue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("empty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¦‚æœä»»åŠ¡é˜Ÿåˆ—å·²ç»ä¸ºç©ºï¼Œåˆ™ä¼‘çœ 1ç§’")]),t._v("\n            time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# do something...")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"thread-')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current_thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(": execute task ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("task_done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºåŒ…æ‹¬3ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹é€€å‡ºå¹¶ä¸”åªå‰©ä¸‹å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼Œåˆ™é€€å‡ºç¨‹åº")]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("daemon "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n        t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¾€ä»»åŠ¡é˜Ÿåˆ—æ·»åŠ 10ä¸ªä»»åŠ¡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("put"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç­‰å¾…é˜Ÿåˆ—æ‰€æœ‰å…ƒç´ è¢«å–é™¤")]),t._v("\n    queue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br")])]),a("p",[t._v("è¾“å‡ºï¼š")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("thread-Thread-1: execute task 0\nthread-Thread-1: execute task 1\nthread-Thread-2: execute task 2\nthread-Thread-1: execute task 3\nthread-Thread-3: execute task 4\nthread-Thread-3: execute task 7\nthread-Thread-3: execute task 8\nthread-Thread-3: execute task 9\nthread-Thread-2: execute task 5\nthread-Thread-1: execute task 6\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("å¯ä»¥çœ‹åˆ°è‡ªå§‹è‡³ç»ˆåªæœ‰3ä¸ªæ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹ï¼Œ10ä¸ªä»»åŠ¡ä¸­æ¯ä¸ªä»»åŠ¡ç”±å“ªä¸ªçº¿ç¨‹æ‰§è¡Œæ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œå“ªä¸ªçº¿ç¨‹å…ˆå–å‡ºä»»åŠ¡å°±ç”±å“ªä¸ªçº¿ç¨‹æ‰§è¡Œã€‚")]),t._v(" "),a("p",[t._v("é¡ºä¾¿è®°å½•ä¸€äº›æ³¨æ„ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨"),a("code",[t._v("queue.get()")]),t._v("åˆ™ä¼šé˜»å¡ï¼ˆä¸ä¼šæŠ›å¼‚å¸¸ï¼‰ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰å…ƒç´ ã€‚çœ‹æ–‡æ¡£çš„æ„æ€æ˜¯ï¼Œå¦‚æœæ²¡ç”¨blockæ˜¯é»˜è®¤å€¼Trueå¹¶ä¸”æ²¡ç”¨è®¾ç½®timeoutï¼Œé˜Ÿåˆ—ä¸ºç©ºæ—¶å°±ä¼šæ— é™ç­‰å¾…ğŸ˜‚ã€‚æƒ³è¦é¿å…è¿™ç§æƒ…å†µä¹Ÿå¾ˆç®€å•ï¼ŒæŠŠblockè®¾ä¸ºFalseï¼Œåˆ™é˜Ÿåˆ—ä¸ºç©ºæ—¶ä¼šæŠ›å¼‚å¸¸ã€‚")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://buxianshan.oss-cn-beijing.aliyuncs.com/Typora_images/image-20220517195718011.png",alt:"image-20220517195718011"}})]),t._v(" "),a("ul",[a("li",[t._v("python3ä¸­çš„printæ–¹æ³•åˆ°åº•æ˜¯ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå®æµ‹æ¥çœ‹ï¼Œæ²¡æœ‰åŠ é”æ—¶ï¼Œå¤šçº¿ç¨‹printæœ‰æ¦‚ç‡æ ¼å¼é”™ä¹±ï¼ˆè¯¥æ¢è¡Œçš„æ²¡æ¢è¡Œï¼‰ï¼ŒåŠ äº†é”ä¹‹åå®Œå…¨æ­£å¸¸äº†ï¼Œæ‰€ä»¥ä¾‹å­ä¸­çš„printè¿˜æ˜¯åŠ äº†é”ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨threadpoolexecutor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨threadpoolexecutor"}},[t._v("#")]),t._v(" ä½¿ç”¨ThreadPoolExecutor")]),t._v(" "),a("p",[t._v("çº¿ç¨‹æ± çš„åŸºç±»æ˜¯ concurrent.futures æ¨¡å—ä¸­çš„ Executorï¼ŒExecutor æä¾›äº†ä¸¤ä¸ªå­ç±»ï¼Œå³ ThreadPoolExecutor å’Œ ProcessPoolExecutorï¼Œå…¶ä¸­ ThreadPoolExecutor ç”¨äºåˆ›å»ºçº¿ç¨‹æ± ï¼Œè€Œ ProcessPoolExecutor ç”¨äºåˆ›å»ºè¿›ç¨‹æ± ã€‚")]),t._v(" "),a("p",[t._v("ç¨‹åºå°† task å‡½æ•°æäº¤ï¼ˆsubmitï¼‰ç»™çº¿ç¨‹æ± åï¼Œsubmit æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª Future å¯¹è±¡ï¼ŒFuture ç±»ä¸»è¦ç”¨äºè·å–çº¿ç¨‹ä»»åŠ¡å‡½æ•°çš„è¿”å›å€¼ã€‚ç”±äºçº¿ç¨‹ä»»åŠ¡ä¼šåœ¨æ–°çº¿ç¨‹ä¸­ä»¥å¼‚æ­¥æ–¹å¼æ‰§è¡Œï¼Œå› æ­¤ï¼Œçº¿ç¨‹æ‰§è¡Œçš„å‡½æ•°ç›¸å½“äºä¸€ä¸ªâ€œå°†æ¥å®Œæˆâ€çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ Python ä½¿ç”¨ Future æ¥ä»£è¡¨ã€‚")]),t._v(" "),a("p",[t._v("çœ‹è¿™ä¸ªä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("futures "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ThreadPoolExecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ALL_COMPLETED\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" threading\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    msg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('f"')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("threading"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current_thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" executed (task id: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("task_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(')"')])]),t._v("\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" msg\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºä¸€ä¸ªåŒ…å«3ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ")]),t._v("\n    pool "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ThreadPoolExecutor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max_workers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Futureå¯¹è±¡åˆ—è¡¨")]),t._v("\n    future_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‘çº¿ç¨‹æ± æäº¤10ä¸ªä»»åŠ¡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        future "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("submit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        future_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("future"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç­‰å¾…æ‰€æœ‰ä»»åŠ¡ç»“æŸ(timeout 10ç§’)")]),t._v("\n    wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("future_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ALL_COMPLETED"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è·å–æ‰€æœ‰ä»»åŠ¡è¿”å›å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" future "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" future_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("future"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…³é—­çº¿ç¨‹æ± ")]),t._v("\n    pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shutdown"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br")])]),a("p",[t._v("è¾“å‡ºï¼š")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ThreadPoolExecutor-0_0 executed (task id: 0)\nThreadPoolExecutor-0_1 executed (task id: 1)\nThreadPoolExecutor-0_2 executed (task id: 2)\nThreadPoolExecutor-0_2 executed (task id: 3)\nThreadPoolExecutor-0_0 executed (task id: 4)\nThreadPoolExecutor-0_1 executed (task id: 5)\nThreadPoolExecutor-0_2 executed (task id: 6)\nThreadPoolExecutor-0_1 executed (task id: 7)\nThreadPoolExecutor-0_0 executed (task id: 8)\nThreadPoolExecutor-0_2 executed (task id: 9)\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("ä¸ä¸Šé¢â€ä½¿ç”¨"),a("code",[t._v("queue")]),t._v("å’Œ"),a("code",[t._v("threading.Thread")]),t._v("å®ç°çº¿ç¨‹æ± â€œç›¸æ¯”ï¼ŒThreadPoolExecutorçš„ä¼˜ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¯ä»¥è·å–ä»»åŠ¡çš„è¿”å›å€¼")]),t._v(" "),a("li",[t._v("å¯ä»¥ç»™æäº¤ä¸åŒçš„ä»»åŠ¡ç»™çº¿ç¨‹æ± æ‰§è¡Œ")]),t._v(" "),a("li",[t._v("ä¸éœ€è¦è‡ªå·±åˆ›å»ºå’Œç»´æŠ¤ä»»åŠ¡é˜Ÿåˆ—ï¼Œåªéœ€"),a("code",[t._v("submit")]),t._v("åæœ‰ç©ºé—²çº¿ç¨‹å°±ç«‹å³æ‰§è¡Œ")])])])}),[],!1,null,null,null);s.default=e.exports}}]);